{% load static %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
<div class="container">
  <div class="row">
    <div class="col-lg-9 col-md-12 col-sm-12 mb-4">
      <div class="mb-3 ">
          <div class="section-title">‡®≠‡®æ‡®∞‡®§ ‡®¨‡©Å‡®≤‡©á‡®ü‡®ø‡®®</div>
          <div class="double-underline"></div>
      </div>

      <!-- üîπ Horizontal Scrollable Container -->
      <div class="scroll-container d-flex flex-nowrap overflow-auto pb-2" id="autoSlideRow">
        {% for article in Articale %}
        <div class="flex-shrink-0 me-3" style="width: 220px;">
          <a href="/{{ article.newsfrom.slug }}/{{ article.post_cat.sub_cat.cat_slug }}/{{ article.slug }}" class="text-decoration-none text-dark">
            <div class="card border-0">
              <!-- Image -->
              <div class="position-relative rounded overflow-hidden" style="height: 130px;">
                <img src="{{ article.post_image.url }}" class="img-fluid w-100 h-100" style="object-fit: cover;"
                  alt="{{ article.post_title }}">
                
              </div>

              <!-- Title -->
              <div class="mt-2 bg-light p-2 text-wrap rounded overflow-hidden" style="height: 100px;">
                <h6  style="font-size: 14px; font-weight:600; line-height: 1.4;">
                  {{ article.post_title|truncatechars:170 }}
                </h6>
              </div>
            </div>
          </a>
        </div>
        {% endfor %}
      </div>
  </div>
  <div class="col-lg-3 col-md-12 col-sm-12 mb-4">
    <!-- Top Ad -->
        <div class="text-center mt-5">
          <img src="{% static 'assets/img/ads1.jpg' %}" alt="Advertisement" class="img-fluid">
        </div>
  </div>
  </div>
</div>

<style>
   .scroll-container {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  overflow-x: hidden  !important;
  white-space: nowrap;
}

.scroll-container::-webkit-scrollbar {
  height: 6px;
}
.scroll-container::-webkit-scrollbar-thumb {
  background: #ccc;
  border-radius: 10px;
}
.scroll-container::-webkit-scrollbar-thumb:hover {
  background: #999;
}

.card:hover img {
  transform: scale(1.05);
  transition: all 0.3s ease;
}
.card:hover .fa-play-circle {
  color: #ff0000;
}

/* üé® Modern Card Shadows & Design */
.card {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  border-radius: 8px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
}

.card:hover {
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
  transform: translateY(-4px);
}

.card img {
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.card:hover img {
  transform: scale(1.08);
  filter: brightness(1.05);
}

.section-title {
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

@media (max-width: 768px) {
  .card {
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
  }
  
  .card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
    transform: translateY(-2px);
  }
}

</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const container = document.getElementById("autoSlideRow");
    if (!container) return;

    const cardWidth = 230; // one card width + margin (adjust if needed)
    let scrollInterval;

    function startAutoSlide() {
      scrollInterval = setInterval(() => {
        if (container.scrollLeft + container.clientWidth >= container.scrollWidth - 5) {
          // Reached end ‚Üí Go back to start
          container.scrollTo({ left: 0, behavior: 'smooth' });
        } else {
          container.scrollBy({ left: cardWidth, behavior: 'smooth' });
        }
      }, 2500); // slide every 2.5 sec
    }

    function stopAutoSlide() {
      clearInterval(scrollInterval);
    }

    // Auto start
    startAutoSlide();

    // Pause on hover (desktop)
    container.addEventListener("mouseenter", stopAutoSlide);
    container.addEventListener("mouseleave", startAutoSlide);

    // Pause on manual scroll (mobile swipe)
    let isUserScrolling;
    container.addEventListener("scroll", () => {
      clearTimeout(isUserScrolling);
      stopAutoSlide();
      isUserScrolling = setTimeout(startAutoSlide, 4000);
    });
  });
</script>
